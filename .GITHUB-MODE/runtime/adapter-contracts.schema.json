{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://openclaw.ai/schemas/runtime/github-mode/adapter-contracts.schema.json",
  "title": "GitHub Mode Adapter Contracts",
  "description": "Schema for adapter contracts that define policy-gated adapter capabilities, trust levels, and constraints for GitHub Mode invocation.",
  "type": "object",
  "additionalProperties": false,
  "required": ["schemaVersion", "contractsVersion", "adapters"],
  "properties": {
    "schemaVersion": {
      "type": "string",
      "pattern": "^1\\.[0-9]+$"
    },
    "contractsVersion": {
      "type": "string",
      "pattern": "^v[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Semantic version of the adapter contracts."
    },
    "adapters": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["name", "capability", "trustLevels", "constraints"],
        "properties": {
          "name": {
            "type": "string",
            "pattern": "^[a-z0-9][a-z0-9-]*$",
            "minLength": 2,
            "description": "Unique adapter identifier."
          },
          "capability": {
            "type": "string",
            "minLength": 1,
            "description": "Human-readable description of what this adapter does."
          },
          "trustLevels": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "enum": ["untrusted", "semi-trusted", "trusted"]
            },
            "description": "Trust levels at which this adapter may be invoked."
          },
          "constraints": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "minLength": 1
            },
            "description": "Policy constraints that govern adapter invocation."
          }
        }
      }
    }
  }
}
