{
  "version": 1,
  "capabilities": [
    {
      "id": "pr-contract-validation",
      "description": "Required PR checks validate .GITHUB-MODE runtime contracts and trust-safe execution.",
      "state": "operational",
      "evidence": [".github/workflows/github-mode-contracts.yml"]
    },
    {
      "id": "security-lint-enforcement",
      "description": "Security lint blocks unpinned actions, broad permissions, and secret exposure in untrusted triggers.",
      "state": "operational",
      "evidence": [
        ".GITHUB-MODE/scripts/github-mode-security-lint.ts",
        ".github/workflows/github-mode-security-lint.yml",
        ".GITHUB-MODE/test/github-mode-security-lint.test.ts"
      ]
    },
    {
      "id": "environment-protection-gates",
      "description": "GitHub Environments github-mode-dev/staging/prod enforce reviewer gates and branch restrictions.",
      "state": "operational",
      "evidence": [
        ".GITHUB-MODE/scripts/verify-github-environments.ts",
        ".github/workflows/github-mode-security.yml"
      ]
    },
    {
      "id": "workflow-permission-hardening",
      "description": "All GitHub-mode workflows declare explicit least-privilege permissions at workflow and job level.",
      "state": "operational",
      "evidence": [
        ".GITHUB-MODE/scripts/lint-github-mode-workflows.ts",
        ".GITHUB-MODE/scripts/github-mode-security-lint.ts"
      ]
    },
    {
      "id": "oidc-credential-guard",
      "description": "Static cloud credential patterns are blocked; OIDC federation is the required credential path.",
      "state": "operational",
      "evidence": [
        ".GITHUB-MODE/scripts/check-github-mode-oidc-credentials.ts",
        ".github/workflows/github-mode-oidc-deploy-scaffold.yml"
      ]
    },
    {
      "id": "skill-quarantine-gate",
      "description": "Trusted skill gate enforces fail-closed allowlist with revocation checking and approval metadata validation.",
      "state": "operational",
      "evidence": [
        ".GITHUB-MODE/scripts/enforce-trusted-skill-gate.ts",
        ".GITHUB-MODE/test/enforce-trusted-skill-gate.test.ts",
        ".github/workflows/github-mode-skill-intake.yml",
        ".github/workflows/github-mode-skill-static-scan.yml",
        ".github/workflows/github-mode-skill-policy-classifier.yml",
        ".github/workflows/github-mode-skill-emergency-revocation.yml"
      ]
    },
    {
      "id": "trusted-command-bot-pr",
      "description": "Trusted maintainer commands can execute and produce bot-authored pull requests end-to-end.",
      "state": "spec-only",
      "evidence": [".GITHUB-MODE/docs/planning/mvp.md"]
    },
    {
      "id": "untrusted-privilege-blocking",
      "description": "Untrusted actors are blocked from privileged adapters and secret-backed paths.",
      "state": "scaffold",
      "evidence": [
        ".GITHUB-MODE/runtime/trust-levels.json",
        ".GITHUB-MODE/runtime/command-policy.json"
      ]
    },
    {
      "id": "parity-snapshot-visibility",
      "description": "Parity matrix artifacts are generated and visible to reviewers in CI summaries.",
      "state": "scaffold",
      "evidence": [".GITHUB-MODE/runtime/parity-matrix.json"]
    },
    {
      "id": "installed-runtime-non-regression",
      "description": "Installed runtime behavior remains unchanged while GitHub Mode evolves.",
      "state": "scaffold",
      "evidence": [".GITHUB-MODE/docs/adr/0002-installed-runtime-non-regression-guardrails.md"]
    }
  ]
}
